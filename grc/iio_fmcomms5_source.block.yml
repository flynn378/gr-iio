# auto-generated by grc.converter

id: iio_fmcomms5_source
label: FMComms5 Source
category: '[Industrial IO]/FMComms'
flags: throttle

parameters:
-   id: uri
    label: IIO context URI
    dtype: string
    default: 'local:'
-   id: frequency1
    label: LO Frequency (RX1/RX2)
    dtype: real
    default: '2400000000'
-   id: frequency2
    label: LO Frequency (RX3/RX4)
    dtype: real
    default: '2400000000'
-   id: samplerate
    label: Sample rate
    dtype: real
    default: '2084000'
-   id: bandwidth
    label: RF bandwidth
    dtype: real
    default: '20000000'
-   id: buffer_size
    label: Buffer size
    dtype: int
    default: '0x8000'
-   id: ch1_en
    label: Channel 1 Enabled
    dtype: bool
    default: 'True'
    options: ['True', 'False']
    hide: part
-   id: ch2_en
    label: Channel 2 Enabled
    dtype: bool
    default: 'True'
    options: ['True', 'False']
    hide: part
-   id: ch3_en
    label: Channel 3 Enabled
    dtype: bool
    default: 'True'
    options: ['True', 'False']
    hide: part
-   id: ch4_en
    label: Channel 4 Enabled
    dtype: bool
    default: 'True'
    options: ['True', 'False']
    hide: part
-   id: quadrature
    label: Quadrature
    dtype: bool
    default: 'True'
    options: ['True', 'False']
-   id: rfdc
    label: RF DC
    dtype: bool
    default: 'True'
    options: ['True', 'False']
-   id: bbdc
    label: BB DC
    dtype: bool
    default: 'True'
    options: ['True', 'False']
-   id: gain1
    label: Gain Mode (RX1)
    dtype: enum
    options: ['"manual"', '"slow_attack"', '"fast_attack"', '"hybrid"']
    option_labels: [Manual, Slow, Fast, Hybrid]
-   id: manual_gain1
    label: Manual Gain (RX1)(dB)
    dtype: real
    default: '64.0'
    hide: ${ ('none' if gain1 == '"manual"' else 'all') }
-   id: gain2
    label: Gain Mode (RX2)
    dtype: enum
    options: ['"manual"', '"slow_attack"', '"fast_attack"', '"hybrid"']
    option_labels: [Manual, Slow, Fast, Hybrid]
-   id: manual_gain2
    label: Manual Gain (RX2)(dB)
    dtype: real
    default: '64.0'
    hide: ${ ('none' if gain2 == '"manual"' else 'all') }
-   id: gain3
    label: Gain Mode (RX3)
    dtype: enum
    options: ['"manual"', '"slow_attack"', '"fast_attack"', '"hybrid"']
    option_labels: [Manual, Slow, Fast, Hybrid]
-   id: manual_gain3
    label: Manual Gain (RX3)(dB)
    dtype: real
    default: '64.0'
    hide: ${ ('none' if gain3 == '"manual"' else 'all') }
-   id: gain4
    label: Gain Mode (RX4)
    dtype: enum
    options: ['"manual"', '"slow_attack"', '"fast_attack"', '"hybrid"']
    option_labels: [Manual, Slow, Fast, Hybrid]
-   id: manual_gain4
    label: Manual Gain (RX4)(dB)
    dtype: real
    default: '64.0'
    hide: ${ ('none' if gain4 == '"manual"' else 'all') }
-   id: rf_port_select
    label: RF Port Select
    dtype: enum
    options: ['"A_BALANCED"', '"B_BALANCED"', '"C_BALANCED"', '"A_N"', '"A_P"', '"B_N"',
        '"B_P"', '"C_N"', '"C_P"', '"TX_MONITOR1"', '"TX_MONITOR2"', '"TX_MONITOR1_2"']
    option_labels: [A_BALANCED, B_BALANCED, C_BALANCED, A_N, A_P, B_N, B_P, C_N, C_P,
        TX_MONITOR1, TX_MONITOR2, TX_MONITOR1_2]
-   id: filter
    label: Filter
    dtype: file_open

outputs:
-   domain: stream
    dtype: complex
    multiplicity: ${ sum([ch1_en, ch2_en, ch3_en, ch4_en]) }
asserts:
- ${ sum([ch1_en, ch2_en, ch3_en, ch4_en]) > 0 }
- ${ samplerate >= 2084000 }
- ${ (frequency1 >= 0) }
- ${ (frequency2 >= 0) }
- ${ (bandwidth >= 0) }
- ${ (samplerate >= 0) }

templates:
    imports: from gnuradio import iio
    make: iio.fmcomms5_source_f32c(${uri}, int(${frequency1}), int(${frequency2}),
        int(${samplerate}), int(${bandwidth}), ${ch1_en}, ${ch2_en}, ${ch3_en}, ${ch4_en},
        ${buffer_size}, ${quadrature}, ${rfdc}, ${bbdc}, ${gain1}, ${manual_gain1},
        ${gain2}, ${manual_gain2}, ${gain3}, ${manual_gain3}, ${gain4}, ${manual_gain4},
        ${rf_port_select}, ${filter})
    callbacks:
    - set_params(int(${frequency1}), int(${frequency2}), int(${samplerate}), int(${bandwidth}),
        ${quadrature}, ${rfdc}, ${bbdc}, ${gain1}, ${manual_gain1}, ${gain2}, ${manual_gain2},
        ${gain3}, ${manual_gain3}, ${gain4}, ${manual_gain4}, ${rf_port_select})

file_format: 1
